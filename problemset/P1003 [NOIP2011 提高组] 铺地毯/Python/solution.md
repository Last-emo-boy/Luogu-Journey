# NOIP2011 提高组 铺地毯

## 题目链接
[NOIP2011 提高组] 铺地毯: https://www.luogu.com.cn/problem/P1003

## 题目描述
在一个平面直角坐标系的第一象限中，组织者按照编号顺序平行于坐标轴铺设了n张矩形地毯，后铺设的地毯会覆盖前面的地毯。现需要找出覆盖给定坐标点的最上面的地毯编号。

## 解题思路
本题可以通过暴力的方式解决。因为地毯是从1到n顺序铺设，所以对于给定的坐标点，只需要从后向前遍历地毯，检查当前的地毯是否覆盖该坐标点。找到第一张覆盖该点的地毯，其编号即为所求。如果遍历完所有地毯都没有找到覆盖该点的地毯，返回-1。

## Python3解法
```python
n = int(input())
carpets = []
for _ in range(n):
    a, b, g, k = map(int, input().split())
    carpets.append((a, b, a + g, b + k))
x, y = map(int, input().split())

for i in range(n - 1, -1, -1):
    if carpets[i][0] <= x <= carpets[i][2] and carpets[i][1] <= y <= carpets[i][3]:
        print(i + 1)
        break
else:
    print(-1)
```

## 代码解释
首先，读入n张地毯的信息，并存储每张地毯的左下角和右上角坐标。然后，从后向前遍历地毯，检查当前地毯是否覆盖(x, y)点。如果覆盖，则打印当前地毯的编号并终止遍历。如果遍历结束都没有找到覆盖的地毯，则打印-1。

## 优化
因为地毯数量n的最大值为10^4，该暴力解法的时间复杂度为O(n)，在题目的数据范围内是可以接受的。所以不需要进一步优化。

## 其他方案
本题的主要难点在于如何快速判断某个点是否在矩形内，所以除了暴力解法外，没有更好的解决方案。

## 结论
通过这个问题，我们学习了如何判断一个点是否在矩形内，以及如何从后向前遍历数组。虽然本题解法简单，但也体现了对问题进行精细化分析的重要性。